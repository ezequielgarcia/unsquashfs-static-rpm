diff -Nur squashfs4.0/squashfs-tools/unsquash-3.c squashfs4.0.fix/squashfs-tools/unsquash-3.c
--- squashfs4.0/squashfs-tools/unsquash-3.c	2009-03-31 00:35:10.000000000 -0400
+++ squashfs4.0.fix/squashfs-tools/unsquash-3.c	2010-05-05 23:09:00.112806775 -0400
@@ -36,7 +36,7 @@
 		sBlk.fragment_table_start);
 
 	if(sBlk.fragments == 0)
-		return;
+		return TRUE;
 
 	if((fragment_table = malloc(sBlk.fragments *
 			sizeof(squashfs_fragment_entry_3))) == NULL)
